/*! education-zone-pro 1.0.0 2018-06-20 12:42:00 PM */

jQuery.fn.isOnScreen=function(){var a=jQuery(window),e={top:a.scrollTop(),left:a.scrollLeft()};e.right=e.left+a.width(),e.bottom=e.top+a.height();var o=this.offset();return o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(e.right<o.left||e.left>o.right||e.bottom<o.top||e.top>o.bottom)},jQuery(document).ready(function(a){function e(a,e){var n=a;if(e.hasClass("ajax-search-results-container")||(e=e.find(".ajax-search-results-container")),n==o){var i=e.closest(".search-form").find(".ajax-search-results-container");if(!i.is(":empty"))return i.show().closest(".search-form").addClass("ajax-search-box-open"),!1}o=n,t&&t.abort(),t=jQuery.ajax({url:education_zone_pro_ajax.url,data:{action:"education_zone_pro_search",q:n},beforeSend:function(){e.addClass("loading")},success:function(a){e.html(a).show().closest(".search-form").addClass("ajax-search-box-open")}}).done(function(){e.removeClass("loading")})}if("undefined"!=typeof education_zone_pro_ajax){var o="",t=null;if(a(".search-form").each(function(){var o=a(this);o.addClass("ajax-search").append('<div class="ajax-search-results-container"></div>').find(".search-field").on("input propertychange",function(){if(a(window).width()>865){var t=jQuery(this).val();t.length>2?fnDelay(function(){e(t,o)},400):o.removeClass("ajax-search-box-open").find(".ajax-search-results-container").hide()}}).focus(function(){var e=o.find(".ajax-search-results-container");!e.is(":empty")&&a(this).val().length>2&&(o.addClass("ajax-search-box-open"),e.show())}),o.find(".ajax-search-results-container").hide()}).click(function(a){a.stopPropagation()}),a(document).on("keydown",".ajax-search-box-open",function(e){var o=a(this),t=o.find(":focus");switch(e.which){case 38:t.is("input")?o.find("li:last a").focus():t.closest("li").prev("li").length?t.closest("li").prev("li").find("a:first").focus():o.find("input.search-field").focus();break;case 40:t.is("input")?o.find("li:first a").focus():t.closest("li").next("li").length?t.closest("li").next("li").find("a:first").focus():o.find("input.search-field").focus();break;default:return}e.preventDefault()}),a(".blog").length>0||a(".search").length>0||a(".archive").length>0){var n=parseInt(education_zone_pro_ajax.startPage)+1,i=parseInt(education_zone_pro_ajax.maxPages),s=education_zone_pro_ajax.nextLink,r=education_zone_pro_ajax.autoLoad;if("load_more"==r)a(".pagination").before('<div class="pagination_holder" style="display: none;"></div>').after('<div id="load-posts"><a href="#"><i class="fa fa-refresh"></i>'+education_zone_pro_ajax.loadmore+"</a></div>"),n==i+1&&a("#load-posts a").html('<i class="fa fa-ban"></i>'+education_zone_pro_ajax.nomore).addClass("disabled"),a("#load-posts a").click(function(){return n<=i&&!a(this).hasClass("loading")&&(a(this).html('<i class="fa fa-refresh fa-spin"></i>'+education_zone_pro_ajax.loading).addClass("loading"),a(".pagination_holder").load(s+" .latest_post",function(){n++;s=s.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+n);var e=a(".pagination_holder").html();a(".pagination_holder").html(""),a(".site-main article:last").after(e),a(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&a.getScript(education_zone_pro_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js"),n<=i?a("#load-posts a").html('<i class="fa fa-refresh"></i>'+education_zone_pro_ajax.loadmore).removeClass("loading"):a("#load-posts a").html('<i class="fa fa-ban"></i>'+education_zone_pro_ajax.nomore).addClass("disabled").removeClass("loading")})),!1}),a(".pagination").remove();else if("infinite_scroll"==r){a(".pagination").before('<div class="pagination_holder" style="display: none;"></div>');var l=!1,d=!1;(a(".blog").length>0||a(".search").length>0||a(".archive").length>0)&&a(window).scroll(function(){l||d||a(".latest_post").last().isOnScreen()&&(n<=i?(l=!0,a(".pagination_holder").load(s+" .latest_post",function(){n++;l=!1,s=s.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+n);var e=a(".pagination_holder").html();a(".pagination_holder").html(""),a(".site-main article:last").after(e),a(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&a.getScript(education_zone_pro_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js")})):d=!0)}),a(".pagination").remove()}}}}).click(function(){"undefined"!=typeof education_zone_pro_ajax&&(jQuery(".ajax-search-results-container").fadeOut(200),jQuery(".search-form").removeClass("ajax-search-box-open"))});var fnDelay=function(){var a=0;return function(e,o){clearTimeout(a),a=setTimeout(e,o)}}();